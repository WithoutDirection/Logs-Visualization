# Logs-Visualization
將Procmon錄製下來的Raw event logs進行**視覺化**，並透過適當的擴充讓瀏覽、標記Raw events更為便利。

## `Caldera_Ability_Statistics/`
This directory should contain each of the Caldera ability's raw event logs in `.csv` format. 

## `Caldera_Ability_Prediction/`
The directory should contain prediction results of each Caldera ability's raw event logs in `.csv` format, ideally resulting from the trained model but is currently generated by hand. 
The current implementation is for ReaPR back then, therefore given its node-based nature, use `Type` to decide whether to mark a `LineID`'s `src` or `dst` as mailicious, with a confidence score `Score`.
This part requires further improvement to be more intuitive for our usage.


## `Graph/`
This part should store each event's .pkl and edge metadata json, as well as the created HTML visualization


## `graph.ipynb`
This notebook house the original implementation of visualizing the raw event logs. It is soon to be deprecated once the new implementation is completed.

我真的不知道發生什麼事好像沒存到檔，結果現在最後一週的東西爛掉/不見了，我還在努力看要怎麼復原，不確定中研院那台電腦有沒有備份，先把我現在有的東西push上來。

基本上現在可以跑的東西就是
第一二個cell生成graph的檔案到Graph/
最後一個cell可以生一個有sequence grouping的html(但是node一直抖我還沒修)
entry interval的filtering壞掉了還沒修

剩下不少function都丟去graphutil.py了

Reapr 的實作在Loglabelling那個repo裡的版本還能用


不過無論如何，有點想要重做一個完整GUI版本的如下，目前他會需要`graph.ipynb`第二個cell的輸出檔案，然後會產生一個新的資料夾`unified_viz_data/`，裡面會有處理過的json檔，然後可以用`unified_viz_server.py`來啟動一個server，之後用瀏覽器打開就可以看到一個比較完整的GUI，這個gui目前應該會有一個堪用的entry interval filter，但因為轉換的邏輯沒寫好，對於相同的edge會自動收合成一個edge


## `unified_viz_data_preparation.py`
This is a newly-generated script that serve the purpose of converting results from `graph.ipynb` into an alternate format and apply stuffs like sequence grouping, Reapr etc.


## `unified_viz_server.py`
This is the backend server that serves the visualized graph data to the frontend. 

### `unified_log_visualization.html`
This is the frontend that visualizes the graph data served by the backend server.